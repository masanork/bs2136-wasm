<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WASM Test Page for bs2136-wasm</title>
    <script type="module">
        import init, { encode_integer_for_wasm, decode_integer_for_wasm } from "./pkg/bs2136_wasm.js";

        async function runWasm() {
            await init();

            document.getElementById('encode').addEventListener('click', function() {
                const number = parseInt(document.getElementById('number-input').value);
                const encoded = encode_integer_for_wasm(number);
                document.getElementById('encoded-output').textContent = encoded;
            });

            document.getElementById('decode').addEventListener('click', function() {
                const encodedStr = document.getElementById('encoded-input').value;
                const decoded = decode_integer_for_wasm(encodedStr);
                document.getElementById('decoded-output').textContent = decoded;
            });
        }

        runWasm();
    </script>
</head>
<body>
    <h2>Encode Integer</h2>
    <input id="number-input" type="number" placeholder="Enter a number">
    <button id="encode">Encode</button>
    <p>Encoded: <span id="encoded-output"></span></p>

    <h2>Decode Encoded String</h2>
    <input id="encoded-input" type="text" placeholder="Enter encoded string">
    <button id="decode">Decode</button>
    <p>Decoded Number: <span id="decoded-output"></span></p>
</body>
</html>
